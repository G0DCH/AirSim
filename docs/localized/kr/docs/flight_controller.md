# 비행 컨트롤러

## 비행 컨트롤러란 무엇입니까?
"잠깐만!" 여러분은 "왜 시뮬레이터를 위해 비행 조종기가 필요한가요?"라고 묻는 것입니다. 비행 컨트롤러의 주된 역할은 *원하는 상태*를 입력으로 받아들이고, 센서 데이터를 사용하여 *실제 상태*를 추정한 다음, 실제 상태가 원하는 상태에 근접하도록 actuator를 구동하는 것입니다. 예를 들어, 쿼드로터의 경우 원하는 상태를 roll, pitch 및 yaw로 지정할 수 있습니다. 그런 다음 자이로 스코프 및 가속도계를 사용하여 실제 roll, pitch 및 yaw를 추정합니다. 그런 다음 적절한 모터 신호를 생성하여 실제 상태가 원하는 상태가됩니다. [우리의 논문](paper/main.pdf)에서 더 자세한 내용을 볼 수 있습니다.

## 시뮬레이터가 비행 컨트롤러를 어떻게 사용합니까?
시뮬레이터는 비행 컨트롤러에서 생성 된 모터 신호를 사용해 각 액츄에이터 (즉, 쿼드 로터의 경우 프로펠러)에서 생성 된 힘과 추진력을 알아냅니다. 이것은 물리 엔진에 의해 차량의 운동 특성을 계산하는 데 사용됩니다. 그러면 시뮬레이션 된 센서 데이터가 생성되어 비행 컨트롤러로 다시 공급됩니다. [우리의 논문](paper/main.pdf)에서 더 자세한 내용을 볼 수 있습니다.

## Hardware- 및 Software-in-Loop 란 무엇입니까?

Hardware-in-Loop (HITL 또는 HIL)는 비행 컨트롤러가 Naze32 또는 Pixhawk 칩과 같은 실제 하드웨어에서 실행됨을 의미합니다. 그런 다음 USB 포트를 사용하여 이 하드웨어를 PC에 연결하십시오. 시뮬레이터는 장치와 통신하여 액추에이터 신호를 검색하고 시뮬레이션 된 센서 데이터를 보냅니다. 이것은 당신이 실제로 얻을 수 있는 것만큼 비슷합니다. 그러나 일반적으로 설정하는 데 더 많은 단계가 필요하며 일반적으로 디버깅하기가 어렵습니다. 가장 큰 문제는 시뮬레이터 시계와 장치 시계가 자체 속도와 정확도로 실행된다는 것입니다. 또한 USB 연결(일반적으로 USB 2.0 만 해당)으로는 실시간 통신에 충분하지 않을 수 있습니다.

"SITL 또는 SIL (Software-in-loop) 시뮬레이션"모드에서 펌웨어는 별도의 보드가 아닌 컴퓨터에서 실행됩니다. 이제 장치에 특정된 코드 경로를 건드리지 않는다는 점을 제외하면 일반적으로 문제가 없습니다. 또한 이제는 특수 하드웨어 보드에서 일반적으로 제공하는 real-time clock으로 코드를 실행하지 않습니다. 소프트웨어 시계가 있는 잘 설계된 비행 컨트롤러의 경우 일반적으로 문제와 관련이 없습니다.

## 어떤 비행 컨트롤러가 지원됩니까?

AirSim에는 [simple_flight](simple_flight.md)라는 내장 비행 컨트롤러가 있으며 기본적으로 사용됩니다. 사용하거나 구성하기 위해 아무 것도 할 필요가 없습니다. AirSim은 고급 사용자를위한 다른 비행 컨트롤러로 [PX4](px4_setup.md)도 지원합니다. 향후에는 [ROSFlight](https://rosflight.org/) 및 [Hackflight](https://github.com/simondlevy/hackflight)도 지원할 계획입니다.

## 비행 컨트롤러 없이 AirSim 사용
예, 이제 비행 컨트롤러 없이 AirSim을 사용할 수 있습니다. 소위 "컴퓨터 비전" 모드를 사용하는 방법에 대해서는 [여기 지침](image_apis.md)을 참조하십시오. 차량 역학이 필요하지 않은 경우 이 모드를 사용하는 것이 좋습니다.
